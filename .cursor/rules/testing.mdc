---
description: Ground rules for testing
alwaysApply: true
---

## Requirements
* Avoid mocking. Instead, use in-memory testing infrastructure or service fake.
* If there is no in-memory infrastructure or service fake - create it.

## Test infrastructure
- All classes contained in files matching globs `**/*/*in-memory.ts`, `**/*/*fake.ts`, `**/*/*double.ts`, `**/*/*stub.ts`
- They MUST NOT be decorated with `@Injectable()` decorator. (Regardles of where they are placed, they are not part of production code, and should not be available via dependancy injection container outside testing suites.) 
- They MUST be located next to acctual implementation. 
- Class MUST be named the same as acctual implementaion with suffix `InMemory`, `Fake`, `Stub`, `Double`.